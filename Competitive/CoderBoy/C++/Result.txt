#include<bits/stdc++.h>
#define lli long long int
using namespace std;
int main()
{
lli t;
cin>>t;
while(t--)
{
lli n,k;
cin>>n>>k;
lli a[n+1];
map<lli,lli>mp;
lli ans;
for(lli i=0;i<n;i++)
{
cin>>a[i];
}
lli col[n+1][n+1];
for(lli i=0;i<n;i++)
{
for(lli j=0;j<n;j++)
{
col[i][j]=0;
}
}
for(lli i=0;i<n;i++)
{
mp.clear();
for(lli j=i;j<n;j++) 
{
if(j==0)
{
col[i][j]=0;
}
else
col[i][j]=col[i][j-1];
if(mp.count(a[j]))
{
if(mp[a[j]]==1)
{
col[i][j]++;
}
col[i][j]++;
}
mp[a[j]]++;
}
}
ans=INT_MAX;
lli table=100;
lli dp[101][1001]={0};
for(lli i=0;i<=table;i++)
{
for(lli j=0;j<=n;j++)
dp[i][j]=0;
}
for(lli i=2;i<n+1;i++)
dp[1][i]=col[0][i-1];
for(lli i=2;i<=table;i++)
dp[i][1]=0;
for(lli i=2;i<=table;i++)
{
for(lli j=2;j<=n;j++)
{
lli best=INT_MAX;
for(lli p=1;p<j;p++)
{
best=min(best,dp[i-1][p]+col[p][j-1]);
}
dp[i][j]=best;
}
}
for(table=1;table<=100;table++)
{
ans=min(table*k+dp[table][n],ans);
}
cout<<ans<<endl;
}
return 0;
}
